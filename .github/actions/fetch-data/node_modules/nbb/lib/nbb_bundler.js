import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
import "./nbb_goog_string.js";
const shadow_esm_import = function(x) { return import(x) };
import*as esm_import$node_fs from"node:fs";
var TQa=function(a){if(a instanceof $APP.t)return new $APP.h(null,1,[$APP.W,a],null);if($APP.pf(a)){a=$APP.x.h($APP.Am,$APP.v(a))?$APP.Le(a):a;var b=$APP.u(a);a=$APP.v(b);b=$APP.w(b);a=new $APP.h(null,1,[$APP.W,a],null);for(b=$APP.u(b);;)if(b){var c=$APP.v(b);switch(c instanceof $APP.F?c.ga:null){case "as":a=$APP.lk.j(a,$APP.hr,$APP.Le(b));b=$APP.Oe(b);continue;case "refer":c=$APP.Le(b);$APP.pf(c)?(a=$APP.lk.j(a,$APP.vv,$APP.Le(b)),b=$APP.Oe(b)):b=$APP.Oe(b);continue;default:b=$APP.Oe(b)}}else return a}else return null},
UQa=function(a){var b=$APP.wh(a);a=$APP.C.h(b,$APP.W);b=$APP.C.h(b,$APP.hr);return new $APP.G(null,3,5,$APP.I,[a,$APP.hr,b],null)},VQa=function(a){return $APP.bq.h(function(b){if($APP.pf(b)){var c=$APP.v(b);return $APP.x.h($APP.gq,c)?(b=$APP.bq.h(TQa,$APP.ge(b)),b=$APP.Xk.h(UQa,b),$APP.kw.h($APP.gq,b)):null}return b},a)},WQa=function(a){return $APP.bq.h(function(b){return $APP.of(b)&&$APP.x.h($APP.Am,$APP.v(b))?$APP.Le(b):null},a)},XQa=function(a){a=WQa($APP.ge(a));a=$APP.Xk.h(TQa,a);return $APP.kw.h($APP.HJ,
$APP.Xk.h(function(b){return new $APP.D(null,$APP.Am,new $APP.D(null,UQa(b),null,1,null),2,null)},a))},YQa=function(a){a=WQa($APP.ge(a));a=$APP.Xk.h(function(b){return new $APP.D(null,$APP.Am,new $APP.D(null,b,null,1,null),2,null)},a);return $APP.u(a)?$APP.kw.h($APP.DS,a):null},h6=function(a){var b=$APP.q($APP.Ht);return[$APP.l(b)?[$APP.m.g(b),":"].join(""):null,$APP.m.g($APP.zn(a)),":",$APP.m.g($APP.An(a))].join("")},ZQa=function(a){var b=$APP.wh(a);a=$APP.C.h(b,$APP.Lv);b=$APP.C.h(b,i6);a=$APP.lk.j(a,
$APP.Hv,!0);var c=$APP.th([$APP.Yt,$APP.q($APP.Yt),$APP.Ht,$APP.q($APP.Ht),$APP.DT,$APP.Mf]);$APP.ft(c);try{var d=$APP.u(b);b=null;for(var e=c=0;;)if(e<c){for(var f=b.U(null,e),k=$APP.Es(f);;){try{var n=$APP.ry.j(a,k,new $APP.h(null,1,[$APP.Qr,new $APP.ok(null,new $APP.h(null,2,[$APP.sy,null,$APP.ty,null],null),null)],null))}catch(fa){console.log($APP.im(fa)),n=console.error("[babashka]","Ignoring read error while assembling uberscript near",h6(k))}if($APP.x.h($APP.iL,n))break;else if($APP.of(n)){var r=
$APP.v(n),p=$APP.x.h($APP.tm,r)?VQa(n):$APP.x.h($APP.HJ,r)?XQa(n):$APP.x.h($APP.DS,r)?YQa(n):null;if($APP.l(p))try{$APP.Mx(a,p)}catch(fa){console.log(fa),console.error("[babashka]","Ignoring read error while assembling uberscript near",h6(k))}}}e+=1}else{var y=$APP.u(d);if(y){var z=y;if($APP.gf(z)){var E=$APP.yd(z),H=$APP.zd(z);z=E;var P=$APP.Ge(E);d=H;b=z;c=P}else{f=$APP.v(z);for(var V=$APP.Es(f);;){try{var X=$APP.ry.j(a,V,new $APP.h(null,1,[$APP.Qr,new $APP.ok(null,new $APP.h(null,2,[$APP.sy,null,
$APP.ty,null],null),null)],null))}catch(fa){console.log($APP.im(fa)),X=console.error("[babashka]","Ignoring read error while assembling uberscript near",h6(V))}if($APP.x.h($APP.iL,X))break;else if($APP.of(X)){var aa=$APP.v(X),ca=$APP.x.h($APP.tm,aa)?VQa(X):$APP.x.h($APP.HJ,aa)?XQa(X):$APP.x.h($APP.DS,aa)?YQa(X):null;if($APP.l(ca))try{$APP.Mx(a,ca)}catch(fa){console.log(fa),console.error("[babashka]","Ignoring read error while assembling uberscript near",h6(V))}}}d=$APP.w(z);b=null;c=0}e=0}else break}}finally{$APP.ht()}},
i6=new $APP.F(null,"expressions","expressions",255689909);(function(){function a(Za){return $APP.zl.h(p,function(cb){return[$APP.m.g(cb),$APP.kk.h("",cb)?"\n":null,$APP.m.g(Za)].join("")})}var b=$APP.q($APP.tV);b=$APP.wh(b);b=$APP.C.h(b,$APP.rO);var c=$APP.wh(b);b=$APP.C.h(c,$APP.oq);var d=$APP.C.h(c,$APP.dq),e=$APP.C.h(c,$APP.Cp);c=$APP.LF.g(b);var f=function(){var Za=$APP.v(d);return $APP.l(Za)?Za:$APP.v(e)}(),k=$APP.yl.g($APP.fe),n=$APP.yl.g($APP.pi),r=$APP.yl.g($APP.fe),p=$APP.yl.g(""),y=$APP.gy(),z=$APP.Kx(y,"(set (map ns-name (all-ns)))");y=$APP.Ix(y,
new $APP.h(null,1,[$APP.Jv,function(Za){Za=$APP.wh(Za);var cb=$APP.C.h(Za,$APP.Kv);Za=$APP.C.h(Za,$APP.Lv);var kb=$APP.C.h($APP.oya,cb);"string"===typeof cb?$APP.zl.j(k,$APP.Og,$APP.v($APP.jn.j(cb,/\$/,2))):$APP.x.h($APP.XL,cb)?($APP.zl.j(n,$APP.Og,"./nbb_reagent.js"),$APP.zl.j(k,$APP.Og,"react")):$APP.x.h($APP.FQ,cb)?$APP.zl.j(n,$APP.Og,"./nbb_reagent.js"):$APP.x.h($APP.uJ,cb)?($APP.zl.j(n,$APP.Og,"./nbb_reagent_dom_server.js"),$APP.zl.B(k,$APP.Og,"react","react-dom/server")):$APP.l(kb)?$APP.zl.j(n,
$APP.Og,kb):cb instanceof $APP.t&&!$APP.zf(z,cb)&&(cb=$APP.cn($APP.cn($APP.m.g(cb),".","/"),"-","_"),cb=$APP.Xfa(cb),cb=esm_import$node_fs.readFileSync(cb,"utf-8"),$APP.zl.j(r,$APP.Og,cb),ZQa(new $APP.h(null,2,[$APP.Lv,Za,i6,new $APP.G(null,1,5,$APP.I,[cb],null)],null)));return $APP.uh}],null));if($APP.l(c))return $APP.WB.l($APP.B(["\nBundle: produce single JS file for usage with bundlers.\n\nUsage:\n\n  nbb bundle \x3cinput.cljs\x3e [opts]\n\nOptions:\n\n -o, --out [file]  Write to file instead of stdout"]));
c=$APP.AV;$APP.AV=!0;try{var E=esm_import$node_fs.readFileSync(f,"utf-8");$APP.zl.j(r,$APP.Og,E);ZQa(new $APP.h(null,2,[$APP.Lv,y,i6,new $APP.G(null,1,5,$APP.I,[E],null)],null));a($APP.T5("import { loadFile, loadString, registerModule } from '%s'","nbb"));var H=$APP.u($APP.KB.g($APP.q(k)));E=null;for(y=f=0;;)if(y<f){var P=E.U(null,y),V=$APP.Km(P),X=$APP.cn($APP.m.g(V),".","_dot_");a($APP.T5("import * as %s from '%s'",X,P));a($APP.T5("registerModule(%s, '%s')",X,P));y+=1}else{var aa=$APP.u(H);if(aa){var ca=
aa;if($APP.gf(ca)){var fa=$APP.yd(ca),ma=$APP.zd(ca);ca=fa;var oa=$APP.Ge(fa);H=ma;E=ca;f=oa}else{var ka=$APP.v(ca),S=$APP.Km(ka),N=$APP.cn($APP.m.g(S),".","_dot_");a($APP.T5("import * as %s from '%s'",N,ka));a($APP.T5("registerModule(%s, '%s')",N,ka));H=$APP.w(ca);E=null;f=0}y=0}else break}var U=$APP.u($APP.KB.g($APP.q(n)));H=null;for(V=P=0;;)if(V<P){var R=H.U(null,V);a($APP.T5("import '%s/lib/%s'","nbb",R));V+=1}else{var T=$APP.u(U);if(T){X=T;if($APP.gf(X)){var ha=$APP.yd(X),na=$APP.zd(X);X=ha;
var ba=$APP.Ge(ha);U=na;H=X;P=ba}else{var la=$APP.v(X);a($APP.T5("import '%s/lib/%s'","nbb",la));U=$APP.w(X);H=null;P=0}V=0}else break}var qa=$APP.u($APP.KB.g($APP.q(r)));U=null;for(T=R=0;;)if(T<R){var sa=U.U(null,T);a($APP.T5("await loadString(%s, {disableConfig: true})",$APP.ul.l($APP.B([sa]))));T+=1}else{var za=$APP.u(qa);if(za){ha=za;if($APP.gf(ha)){var La=$APP.yd(ha),Sa=$APP.zd(ha);ha=La;var Wa=$APP.Ge(La);qa=Sa;U=ha;R=Wa}else{var Ta=$APP.v(ha);a($APP.T5("await loadString(%s, {disableConfig: true})",
$APP.ul.l($APP.B([Ta]))));qa=$APP.w(ha);U=null;R=0}T=0}else break}var ab=$APP.esa.g(b);return $APP.l(ab)?esm_import$node_fs.writeFileSync(ab,$APP.q(p),"utf-8"):$APP.WB.l($APP.B([$APP.q(p)]))}finally{$APP.AV=c}})();